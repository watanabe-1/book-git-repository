REM chcp 65001 で UTF-8 に変更 変更後もコマンドの出力結果がsjisのままだった…… 要調査
REM chcp 65001
rem @echo off
SetLocal EnableDelayedExpansion

REM カレントディレクトリを、現在実行しているファイルのあるフォルダへと移動させる
cd /d %~dp0
REM %dp0は現在実行しているファイルのあるフォルダを指す(カレントディレクトリ\log)

REM 共通処理、共通変数の呼び出し
CALL common.bat

REM 出力するテキスト名を定義(ERR_日付時刻.txt)
set textName=copy_node_modules_!date2!!time2!.log

echo コピー処理(もし同名ファイルがあった場合は上書き)を開始します > !logPath!\!textName!
REM /yだと移動先に同名ファイルがあった場合上書き(基本的にファイル名はかぶらないのが前提)

echo bootstrap >> !logPath!\!textName!
xcopy /y %nodeModulesPath%\bootstrap\dist\js\bootstrap.min.js %jsPath%\bootstrap\ >> !logPath!\!textName! 2>&1
xcopy /y %nodeModulesPath%\bootstrap\dist\css\bootstrap.css %cssPath%\bootstrap\ >> !logPath!\!textName! 2>&1

echo bootstrap-icons >> !logPath!\!textName!
xcopy /y %nodeModulesPath%\bootstrap-icons\font\bootstrap-icons.css %cssPath%\bootstrap\ >> !logPath!\!textName! 2>&1
xcopy /y /e %nodeModulesPath%\bootstrap-icons\font\fonts %cssPath%\bootstrap\fonts\ >> !logPath!\!textName! 2>&1

echo chart.js >> !logPath!\!textName!
xcopy /y %nodeModulesPath%\chart.js\dist\chart.min.js %jsPath%\chart.js\ >> !logPath!\!textName! 2>&1

echo flatpickr >> !logPath!\!textName!
xcopy /y %nodeModulesPath%\flatpickr\dist\flatpickr.min.js %jsPath%\flatpickr\ >> !logPath!\!textName! 2>&1
xcopy /y %nodeModulesPath%\flatpickr\dist\l10n\ja.js %jsPath%\flatpickr\l10n\ >> !logPath!\!textName! 2>&1
xcopy /y %nodeModulesPath%\flatpickr\dist\plugins\monthSelect\index.js %jsPath%\flatpickr\plugins\monthSelect\ >> !logPath!\!textName! 2>&1
xcopy /y %nodeModulesPath%\flatpickr\dist\flatpickr.min.css %cssPath%\flatpickr\ >> !logPath!\!textName! 2>&1
xcopy /y %nodeModulesPath%\flatpickr\dist\plugins\monthSelect\style.css %cssPath%\flatpickr\plugins\monthSelect\ >> !logPath!\!textName! 2>&1

echo popper.js >> !logPath!\!textName!
xcopy /y %nodeModulesPath%\popper.js\dist\umd\popper.min.js %jsPath%\popper.js\ >> !logPath!\!textName! 2>&1

echo コピー処理を終了します >> !logPath!\!textName!

pause
